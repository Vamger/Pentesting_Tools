#!/bin/bash
# Bash script to search for a given exploit and download all matches.

echo Please type the keyword of what you would like to fetch from exploit-db
read -p 'Search: ' search

echo -e "\n"

for e in $(searchsploit $search -w -t | grep http | cut -f 2 -d "|")

do
  exp_name=$(echo $e | cut -d "/" -f 5)
  url=$(echo $e | sed 's/exploits/raw/')
  echo $url
done

echo -e "\nNote: The following procedure will save the exploit/s in your current directory" 

read -p  "Are you sure you would like to download the exploit/s mentioned above? [Y/N]: " answer  

if [ $answer == "Y" ]
then
  wget -q --no-check-certificate $url -O $exp_name
  echo Done!
else
  echo Quitting
  fi